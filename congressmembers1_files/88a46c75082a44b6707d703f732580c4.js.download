(function(a){a(".overview_wrapper").ready(function(){a(".overview_label a.toggle_button").click(function(b){b.preventDefault();var d=false,c;if(a(".overview_wrapper").css("display")==="none"){a(".overview_label").removeClass("off");a(".overview_label a.toggle_button").html("Hide Overview <i></i>")}else{a(".overview_label").addClass("off");a(".overview_label a.toggle_button").html("Show Overview <i></i>");d=true}a(".overview_wrapper.bill").slideToggle();if(d){c="closed"}else{c="open"}a(document).trigger("overviewStateChanged",c);setOverviewCookie(window.location.pathname,d)});a(".overview_toggle a").click(function(b){b.preventDefault();var c=false;if(a(".overview_wrapper").css("display")==="none"){a(".overview_toggle").removeClass("off");a(".overview_toggle a").text("Hide Overview")}else{a(".overview_toggle").addClass("off");a(".overview_toggle a").text("Show Overview");c=true}a(".overview_wrapper").slideToggle();setOverviewCookie(window.location.pathname,c)})})}(jQuery));
(function(a){if(!a.congress){a.congress={}}a.congress.AccountLink=function(c,b){var d=this;d.$el=a(c);d.options={accountLandingUrl:null,accountRegisterUrl:null,accountSignInUrl:null,checkForUserUrl:null,debugging:false,logoutUrl:null,passwordResetUrl:null,savedSearchesUrl:null};d.templateFiles={disabled:"/js/account-link/templates/disabled.html",loggedInDialog:"/js/account-link/templates/loggedInDialog.html",loginLink:"/js/account-link/templates/loginLink.html",notLoggedInDialog:"/js/account-link/templates/notLoggedInDialog.html",usernameLink:"/js/account-link/templates/usernameLink.html"};d.templates={};d.getTemplate=function(e){return a.ajax({url:d.templateFiles[e],success:function(f){d.templates[e]=f}})};d.checkForUser=function(){return a.ajax({url:d.options.checkForUserUrl,cache:false})};d.init=function(e){d.options=a.extend({},d.options,e);a.when(d.checkForUser(),d.getTemplate("disabled"),d.getTemplate("loggedInDialog"),d.getTemplate("loginLink"),d.getTemplate("notLoggedInDialog"),d.getTemplate("usernameLink")).then(function(h,k,j,i,g,f){if(h[0].accountsEnabled!==true){d.accountsDisabled()}else{if(h[0].username){d.userIsLoggedIn(h[0].username,h[0].canCreateAlerts)}else{d.notLoggedIn()}}},function(h,k,j,i,g,f){d.accountsDisabled()})};d.accountsDisabled=function(){d.$el.html(Mustache.to_html(d.templates.disabled))};d.userIsLoggedIn=function(g,e){d.$el.html(Mustache.to_html(d.templates.usernameLink,{username:g}));var f=Mustache.to_html(d.templates.loggedInDialog,{accountLandingUrl:d.options.accountLandingUrl,canCreateAlerts:e,savedSearchesUrl:d.options.savedSearchesUrl,logoutUrl:d.options.logoutUrl});a(f).dialog({autoOpen:false,draggable:false,modal:true,dialogClass:"signed-in-box-wrapper",minHeight:"none",position:{my:"right top",at:"right bottom",of:a(".signed-in-link")},open:function(h,i){a(".ui-widget-overlay").click(function(j){j.preventDefault();a(".signed-in-box").dialog("close")})}});a(".signed-in-link").attr("href","#");a(".signed-in-link").click(function(i){var h;i.preventDefault();h=window.location.pathname+window.location.search;a.cookie("post-authentication-url",h,{path:"/",secure:(window.location.protocol==="https:")});a(".signed-in-box").dialog("open")});a(".signed-in-close-link").click(function(h){h.preventDefault();a(".signed-in-box").dialog("close")})};d.notLoggedIn=function(){d.$el.html(Mustache.to_html(d.templates.loginLink,{accountSignInUrl:d.options.accountSignInUrl}));var e=Mustache.to_html(d.templates.notLoggedInDialog,{accountSignInUrl:d.options.accountSignInUrl,accountRegisterUrl:d.options.accountRegisterUrl,currentUrl:window.location.href,debugging:d.options.debugging,passwordResetUrl:d.options.passwordResetUrl});a(e).dialog({autoOpen:false,draggable:false,modal:true,dialogClass:"sign-in-box-wrapper",position:{my:"right top",at:"right bottom",of:a(".sign-in-link")},open:function(f,g){setTimeout(function(){a("#loginemailaddress").focus()},1);a(".ui-widget-overlay").click(function(h){h.preventDefault();a(".sign-in-box").dialog("close")})}});a(".sign-in-link").attr("href","#");a(".sign-in-link").click(function(g){g.preventDefault();var f=window.location.pathname+window.location.search;a.cookie("post-authentication-url",f,{path:"/",secure:(window.location.protocol==="https:")});a(".sign-in-box").dialog("open")});a(".sign-in-close-link").click(function(f){f.preventDefault();a(".sign-in-box").dialog("close")})};d.init(b)};a.fn.congress_AccountLink=function(b){return this.each(function(){return new a.congress.AccountLink(this,b)})}}(jQuery));
(function(a){if(!a.congress){a.congress={}}a.congress.LAC=function(c,b){var d=this;d.$el=a(c);d.options={checkUrl:null};d.lacCheck=function(e){return a.ajax({url:d.options.checkUrl,data:{lac:JSON.stringify(e)},cache:false})};d.init=function(g){d.options=a.extend({},d.options,g);var e=a(".lac[data-lac]"),f={};if(e.length){e.each(function(i,k){var h=a(k),j=h.attr("data-lac"),l=h.attr("data-tokens");if(!f[j]){f[j]=[]}if(!l){l=""}f[j].push(l)});a.when(d.lacCheck(f)).then(function(j){for(var i in j){var h=j[i];a('.lac[data-lac="'+i+'"]').each(function(l,m){var k=a(m);if(h[l]){k.replaceWith(h[l])}else{k.remove()}})}},function(){e.each(function(h,i){a(i).remove()})})}};d.init(b)};a.fn.congress_LAC=function(b){return this.each(function(){return new a.congress.LAC(this,b)})}}(jQuery));
(function(a){if(!a.congress){a.congress={}}a.congress.ShareTool=function(c,b){var d=this;d.$el=a(c);d.surveyContentUrl=b.surveyContentUrl;d.logClickUrl=b.logClickUrl;d.logClickAppId=b.logClickAppId;d.citationFooter=b.citationFooterMsg;d.searchFormPostId=b.searchFormPostId;d.searchFormPostUpdated=false;d.templateFiles={citation:"/js/share-tool/templates/citation.html",subscribe:"/js/share-tool/templates/subscribe.html",share:"/js/share-tool/templates/share.html",survey:"/js/share-tool/templates/survey.html"};d.subscribeDialog;d.shareDialog;d.surveyDialog;d.citationDialog;d.dialogWidth="510px";d.citationData=false;d.shortenUrl=b.shortenUrl;d.shortUrl="";d.SHARE_SHORT_URL_TIP=b.SHARE_SHORT_URL_TIP;d.toolTipsInitialized=false;d.getTemplate=function(e){return a.ajax({url:d.templateFiles[e]})};d.print=function(e){e.preventDefault();d.closeSubscribeDialog();d.closeShareDialog();d.closeSurveyDialog();d.closeCitationDialog();window.print()};d.citation=function(e){e.preventDefault();d.logClick("view_citation");d.closeShareDialog();d.closeSurveyDialog();d.closeSubscribeDialog();if(!d.citationDialog){a.when(d.getTemplate("citation")).then(function(f){d.citationDialog=a(Mustache.to_html(f,{footerMessage:d.citationFooter})).dialog({draggable:false,resizable:false,width:d.dialogWidth,dialogClass:"locshare-dialog locshare-subscribe-arrow",position:d.getDialogPositionConfig(d.getCitationLink()),open:function(g,h){a(this).find("a.locshare-dialog-close").off("click").on("click",function(i){i.preventDefault();d.citationDialog.dialog("close")});a(this).find("#locshare_copy_bb").off("click").on("click",d.citeBBFormat);a(this).find("#locshare_copy_apa").off("click").on("click",d.citeAPAFormat);a(this).find("#locshare_copy_mla").off("click").on("click",d.citeMLAFormat);a(this).find("#locshare_copy_cmos").off("click").on("click",d.citeCMOSFormat)},close:function(g,h){d.getCitationLink().focus()}})},function(f){})}else{d.citationDialog.dialog("open").dialog("option","position",d.getDialogPositionConfig(d.getCitationLink()))}};d.subscribe=function(e){e.preventDefault();d.logClick("view_subscribe");d.closeShareDialog();d.closeSurveyDialog();d.closeCitationDialog();if(!d.subscribeDialog){a.when(d.getTemplate("subscribe")).then(function(f){d.subscribeDialog=a(f).dialog({draggable:false,resizable:false,width:d.dialogWidth,dialogClass:"locshare-dialog locshare-subscribe-arrow",position:d.getDialogPositionConfig(d.getSubscribeLink()),open:function(g,h){a(this).find("a.locshare-dialog-close").off("click").on("click",function(i){i.preventDefault();d.subscribeDialog.dialog("close")})},close:function(g,h){d.getSubscribeLink().focus()}})},function(f){})}else{d.subscribeDialog.dialog("open").dialog("option","position",d.getDialogPositionConfig(d.getSubscribeLink()))}};d.share=function(e){e.preventDefault();d.logClick("view_save_share");d.closeSubscribeDialog();d.closeSurveyDialog();d.closeCitationDialog();if(!d.shareDialog){a.when(d.getTemplate("share"),d.getShortUrl()).then(function(f,g){let currentUrl=window.location.href;let showShortUrlCopyOption=false;if(d.shortUrl!=""){currentUrl=d.shortUrl;showShortUrlCopyOption=true}d.shareDialog=a(Mustache.to_html(f[0],{pageTitle:encodeURIComponent(document.title),currentUrl:currentUrl,showShortUrlCopyOption:showShortUrlCopyOption,SHARE_SHORT_URL_TIP:d.SHARE_SHORT_URL_TIP})).dialog({draggable:false,resizable:false,width:d.dialogWidth,dialogClass:"locshare-dialog locshare-subscribe-arrow",position:d.getDialogPositionConfig(d.getShareLink()),open:function(h,i){if(!d.toolTipsInitialized){initializeToolTips();d.toolTipsInitialized=true}a(this).find("a.locshare-dialog-close").off("click").on("click",function(j){j.preventDefault();d.shareDialog.dialog("close")});a(this).find('a[href="#locshare/share/addfavorite"]').off("click").on("click",d.saveToMyBrowserButtonClick);a(this).find("#locshare_email_submit").off("click").on("click",d.emailSubmitClick);a(this).find("#share-copy-button").off("click").on("click",d.shareCopyButtonClick)},close:function(h,i){d.getShareLink().focus()}}).tabs()},function(f){})}else{d.shareDialog.dialog("open").dialog("option","position",d.getDialogPositionConfig(d.getShareLink()))}};d.getShortUrl=function(){if(d.shortenUrl){return a.ajax({type:"POST",url:"/share/get-short-url",data:{url:window.location.href,params:[],method:"GET"},success:function(e){d.shortUrl=e}})}};d.saveToMyBrowserButtonClick=function(e){e.preventDefault();d.logClick("save_browser");if(window.sidebar&&window.sidebar.addPanel){window.sidebar.addPanel(document.title,window.location.href,"")}else{if(window.external&&("AddFavorite" in window.external)){window.external.AddFavorite(location.href,document.title)}else{if(window.opera&&window.print){this.title=document.title;return true}else{alert("Press "+(navigator.userAgent.toLowerCase().indexOf("mac")!=-1?"Command/Cmd":"CTRL")+" + D to bookmark this page.")}}}};d.emailSubmitClick=function(i){i.preventDefault();let currentUrl=window.location.href;if(d.shortUrl!=""){currentUrl=d.shortUrl}var k=d.shareDialog.find("#from_name"),f=k.val().replace(/[&\/\\#,+()$|~%.":*?<>{}!@^&*]/g,"").replace(/\s+/g," ").trim(),h=d.shareDialog.find("#locshare_from_name_error"),g=f+" has shared a link from the Library of Congress",j="%0D%0A",e=document.title+j+j+encodeURIComponent(currentUrl)+j+j;if(f==""){k.val("");k.addClass("locshare-error");h.css("display","block")}else{k.removeClass("locshare-error");h.css("display","none");window.location.href="mailto:?subject="+g+"&body="+e}};d.shareCopyButtonClick=function(f){f.preventDefault();try{d.copyToClipboard(a("#share-copy-short-url").val());a("#share-copy-button").html("Copied").addClass("new-share-button-clicked")}catch(e){}};d.survey=function(e){e.preventDefault();d.closeSubscribeDialog();d.closeShareDialog();if(!d.surveyDialog){a.when(d.getSurveyContent(),d.getTemplate("survey")).then(function(g,f){d.surveyDialog=a(f[0].replace('<div class="locshare-dialog-loading"></div>',g[0])).dialog({draggable:false,resizable:false,width:d.dialogWidth,dialogClass:"locshare-dialog locshare-subscribe-arrow",position:d.getDialogPositionConfig(d.getSurveyLink()),open:function(h,i){a(this).find("a.locshare-dialog-close").off("click").on("click",function(j){j.preventDefault();d.surveyDialog.dialog("close")})},close:function(h,i){d.getSurveyLink().focus()}})},function(g,f){})}else{d.surveyDialog.dialog("open").dialog("option","position",d.getDialogPositionConfig(d.getSurveyLink()))}};d.closeCitationDialog=function(){if(d.citationDialog&&d.citationDialog.dialog("isOpen")){d.citationDialog.dialog("close")}};d.closeSubscribeDialog=function(){if(d.subscribeDialog&&d.subscribeDialog.dialog("isOpen")){d.subscribeDialog.dialog("close")}};d.closeShareDialog=function(){if(d.shareDialog&&d.shareDialog.dialog("isOpen")){d.shareDialog.dialog("close")}};d.closeSurveyDialog=function(){if(d.surveyDialog&&d.surveyDialog.dialog("isOpen")){d.surveyDialog.dialog("close")}};d.getSurveyContent=function(){return a.ajax({url:d.surveyContentUrl,cache:false})};d.getPrintLink=function(){return d.$el.find('a[href="#print"]')};d.getSubscribeLink=function(){return d.$el.find('a[href="#subscribe"]')};d.getShareLink=function(){return d.$el.find('a[href="#share"]')};d.getSurveyLink=function(){return d.$el.find('a[href="#survey"]')};d.getCitationLink=function(){return d.$el.find('a[href="#citation"]')};d.getDialogPositionConfig=function(e){return{my:"left top",at:"left bottom",of:e,collision:"flip none"}};d.logClick=function(e){a.ajax({url:d.logClickUrl,method:"POST",data:{action:e,app_id:d.logClickAppId,download_link_label:null,embed_detail:null,embed_type:null,link:window.location.href,object_type:"page",target:null,title:document.title},complete:function(f,g){}})};d.copyToClipboard=function(g){var e=document.createRange(),f=window.getSelection();f.removeAllRanges();var h=document.createElement("div");h.setAttribute("style","-webkit-user-select: text !important");h.textContent=g;document.body.appendChild(h);e.selectNodeContents(h);f.addRange(e);document.execCommand("copy");f.removeAllRanges();h.textContent="";document.body.removeChild(h)};d.copyToClipboardMLA=function(i){var e,m="",j="",h="",l="";e=document.createElement("div");e.id="divCopy";e.setAttribute("style","-webkit-user-select: text !important");m=e;e.attachShadow&&(m=e.attachShadow({mode:"open"}));var k=i.split("<i>Congress.gov</i>");j=document.createElement("span");j.setAttribute("style","font-style: italic;");j.innerText="Congress.gov";var f=document.createElement("span");f.append(k[0],j,k[1]);m.appendChild(f);document.body.appendChild(e);try{l=document.getSelection();if(l){l.removeAllRanges();h=document.createRange();h.selectNodeContents(f);l.addRange(h)}document.execCommand("copy");l.removeAllRanges();document.body.removeChild(e);m.removeChild(f)}catch(g){}};d.getMetaDataFromCurrentPage=function(){if(!d.citationData){const h=document.querySelector("title");const g=document.querySelector('meta[name="dc.title"]');const e=document.querySelector('meta[name="dc.date"]');const j=document.querySelector('meta[name="dc.number"]');const i=document.querySelector('meta[name="dc.congress"]');const f=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});d.citationData={siteTitle:h?h.innerHTML:"",title:g?g.content:"",date:e?e.content:f,number:j?j.content:"",congress:i?i.content:"",url:window.location.origin+window.location.pathname}}return d.citationData};d.formatCitationData=function(h,i){var g="";var j=h.title.trim();var f=j.slice(-1);switch(i){case"locshare_copy_bb":g=(f!=".")?j:j.slice(0,-1);g+=h.number?", "+h.number:"";g+=h.congress?", "+h.congress:"";g+=h.date?" ("+new Date(h.date).getFullYear()+")":"";g+=h.url?", "+h.url+".":".";break;case"locshare_copy_apa":g=(f!=".")?j:j.slice(0,-1);var e=h.date?new Date(h.date):"";if(e){g+=". ("+e.getFullYear()+", "+e.toLocaleString("default",{month:"long"})+" "+e.getDate()+"). "}g+=h.url?h.url:"";break;case"locshare_copy_mla":g='"';g+=(f!=".")?j:j.slice(0,-1);g+='."';g+=" <i>Congress.gov</i>, Library of Congress";var e=h.date?new Date(h.date):"";if(e){g+=", "+e.getDate()+" "+e.toLocaleString("default",{month:"long"})+" "+e.getFullYear()}g+=h.url?", "+h.url+".":".";break;case"locshare_copy_cmos":g='Congress.gov. "';g+=(f!=".")?j:j.slice(0,-1);g+='." ';var e=h.date?new Date(h.date):"";if(e){g+=e.toLocaleString("default",{month:"long"})+" "+e.getDate()+", "+e.getFullYear()}g+=h.url?". "+h.url+".":".";break;default:break}return g};d.citeBBFormat=function(g){g.preventDefault();var h="",e="";try{h=d.getMetaDataFromCurrentPage();e=d.formatCitationData(h,g.target.id);d.copyToClipboard(e)}catch(f){}};d.citeAPAFormat=function(g){g.preventDefault();var h="",e="";try{h=d.getMetaDataFromCurrentPage();e=d.formatCitationData(h,g.target.id);d.copyToClipboard(e)}catch(f){}};d.citeMLAFormat=function(g){g.preventDefault();var h="",e="";try{h=d.getMetaDataFromCurrentPage();e=d.formatCitationData(h,g.target.id);d.copyToClipboardMLA(e)}catch(f){}};d.citeCMOSFormat=function(g){g.preventDefault();var h="",e="";try{h=d.getMetaDataFromCurrentPage();e=d.formatCitationData(h,g.target.id);d.copyToClipboard(e)}catch(f){}};d.init=function(){d.getPrintLink().click(d.print);d.getSubscribeLink().click(d.subscribe);d.getShareLink().click(d.share);d.getSurveyLink().click(d.survey);d.getCitationLink().click(d.citation);a(window).on("solr-results:updated",function(){d.closeSubscribeDialog();d.closeShareDialog();d.closeSurveyDialog();d.closeCitationDialog();if(d.shareDialog){d.shareDialog.remove();d.shareDialog=false}d.shortUrl="";d.toolTipsInitialized=false})};d.init()};a.fn.ShareTool=function(b){return this.each(function(){return new a.congress.ShareTool(this,b)})}}(jQuery));
function initializeToolTips(){$(".cdg-tooltip").tooltip({position:{my:"center bottom",at:"center top-5"},content:function(){return $(this).prop("title")},show:null,close:function(a,b){b.tooltip.hover(function(){$(this).stop(true).fadeTo(400,1)},function(){$(this).fadeOut("400",function(){$(this).remove()})})}})}$(document).ready(function(){initializeToolTips();$(window).bind("solr-results:updated",function(){initializeToolTips()})});
